(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{112:function(e,t,c){},113:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(10),r=c.n(a),o=c(13),i=c(16),s=(c(85),c(2));function d(){return Object(s.jsx)("nav",{className:"navbar",style:{background:"#01FF70"},children:Object(s.jsxs)("div",{className:"navbar-brand","is-tab":"true",children:[Object(s.jsx)(i.b,{to:"/",className:"navbar-item",children:"Home"}),Object(s.jsx)(i.b,{to:"/product",className:"navbar-item",children:"Posts"})]})})}var u=c(22),l=c(15),j=c(146),b=Object(j.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"center",padding:"20px 0",gap:20},card:{width:345,backgroundImage:"linear-gradient(to right top, #337ae5, #00a7ff, #00c9dc, #00e188, #a8eb12)"},media:{height:140},btn:{display:"flex",justifyContent:"center",marginTop:20,gap:20}}),p=function(e){return e.products.cachesProducts},h=function(e){return e.product.fetchedProduct},O=c(149),m=Object(j.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function f(){var e=m();return Object(s.jsxs)("div",{className:e.root,children:[Object(s.jsx)(O.a,{}),Object(s.jsx)(O.a,{color:"secondary"})]})}var x=c(18),v=c.n(x),g=c(30),y="products/FETCH_PRODUCTS",w="product/FETCH_PRODUCT",C="products/GET_PRODUCT",S="loader/SHOW_LOADING",k="loader/HIDE_LOADING",N="modal/SHOW_LOADING",T="modal/HIDE_LOADING",z="products/FIND_PRODUCTS",P=c(49),D=c.n(P),I="https://6065edd9b8fbbd0017567bab.mockapi.io/product",_=function(){var e=Object(g.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(I);case 3:return t=e.sent,c=t.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(g.a)(v.a.mark((function e(t){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request product"),e.prev=1,e.next=4,D.a.get("".concat(I,"/").concat(t));case 4:return c=e.sent,n=c.data,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(g.a)(v.a.mark((function e(t,c){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("".concat(I,"/").concat(t),c);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),F=function(){return{type:T}},M=function(){return{type:N}},R=function(e){var t=e.id;return function(){var c=Object(g.a)(v.a.mark((function c(n){var a;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n({type:S}),c.next=3,L(t,e);case 3:return c.next=5,E(t);case 5:a=c.sent,n({type:w,payload:a}),n({type:k});case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},U=c(151),A=c(156),H=c(153),W=c(152),G=c(154);function B(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(o.i)("/product/:id?"),d=Object(l.b)();Object(n.useEffect)((function(){d(function(){var e=Object(g.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:S}),e.next=3,_();case 3:c=e.sent,t({type:y,payload:c}),t({type:k});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var j=b(),h=Object(l.c)(p),O=function(){d(M())};return h.length?h.length?Object(s.jsxs)(s.Fragment,{children:[!r.params.id&&Object(s.jsx)("input",{className:"input is-primary",type:"text",value:c,onChange:function(e){var t=c.toLowerCase();a(e.target.value),d({type:z,payload:t})},placeholder:"Find product by name"}),Object(s.jsx)("div",{className:j.root,children:h.map((function(e){return Object(s.jsxs)(U.a,{className:j.card,children:[Object(s.jsx)(W.a,{className:j.media,image:e.imageUrl,title:c}),Object(s.jsxs)(H.a,{children:[Object(s.jsx)(G.a,{gutterBottom:!0,variant:"h4",component:"h2",children:e.name}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Description: ".concat(e.description)}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Quantity: ".concat(e.count)}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Color: ".concat(e.color)}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Size: ".concat(e.size.width,"mm x ").concat(e.size.height,"mm")}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Weight: ".concat(e.weight," g")}),Object(s.jsxs)("div",{className:j.btn,children:[Object(s.jsx)(A.a,{variant:"contained",color:"secondary",component:i.b,to:"".concat(r.url,"/").concat(e.id),children:"Comments"}),Object(s.jsx)(A.a,{variant:"contained",color:"secondary",component:i.b,to:"".concat(r.url,"/").concat(e.id,"?_edit=product"),onClick:O,children:"Edit card"})]})]})]},e.id)}))})]}):void 0:Object(s.jsx)(f,{})}var q=Object(j.a)({root:{width:345,margin:"20px auto",backgroundImage:"linear-gradient(to right top, #337ae5, #00a7ff, #00c9dc, #00e188, #a8eb12)"},media:{height:140},btn:{display:"flex",justifyContent:"center",marginTop:20,gap:20}}),J=c(157),Q=c(73),Y=c(8),V=Object(j.a)((function(e){return{root:{backgroundImage:"linear-gradient(to right top, #337ae5, #00a7ff, #00c9dc, #00e188, #a8eb12)",padding:15,borderRadius:15,"& .MuiTextField-root":{margin:e.spacing(1),width:500}},btn:{display:"flex",justifyContent:"center",marginTop:20,gap:20}}})),K=c(74),X=c(44),Z=c(155);function $(){var e=Object(l.c)(h),t=Object(n.useState)(e.name),c=Object(u.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)(e.description),d=Object(u.a)(i,2),j=d[0],b=d[1],p=Object(n.useState)(e.color),O=Object(u.a)(p,2),m=O[0],f=O[1],x=Object(n.useState)(e.count),v=Object(u.a)(x,2),g=v[0],y=v[1],w=Object(n.useState)(e.weight),C=Object(u.a)(w,2),S=C[0],k=C[1],N=Object(n.useState)(e.size.height),T=Object(u.a)(N,2),z=T[0],P=T[1],D=Object(n.useState)(e.size.width),I=Object(u.a)(D,2),_=I[0],E=I[1],L=Object(n.useState)(""),M=Object(u.a)(L,2),U=M[0],H=M[1],W=Object(o.g)(),G=Object(o.f)(),B=Object(o.i)(),q=Object(l.b)(),J=V(),$=new URLSearchParams(W.search).get("_edit"),ee=function(e){var t=e.target,c=t.name,n=t.value;switch(c){case"name":r(n);break;case"description":b(n);break;case"color":f(n);break;case"count":y(n);break;case"weight":k(n);break;case"width":E(n);break;case"height":P(n);break;case"comment":H(n);break;default:return}};return Object(s.jsxs)("form",{className:J.root,noValidate:!0,onSubmit:function(t){if(t.preventDefault(),"product"===$){var c=Object(Y.a)(Object(Y.a)({},e),{},{name:a,description:j,count:g,size:{width:_,height:z},weight:S});return q(R(c)),q(F()),void X.b.success("You have successfully updated product")}if(U){var n=Object(Y.a)(Object(Y.a)({},e),{},{comments:[].concat(Object(Q.a)(e.comments),[{id:Object(K.a)(),productId:e.id,description:U,data:(new Date).toDateString()}])});return q(R(n)),q(F()),H(""),void X.b.success("You have successfully added your comment")}},autoComplete:"off",children:["product"===$&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:Object(s.jsx)(Z.a,{label:"Type your name",id:"filled-size-normal",value:a,name:"name",variant:"filled",onChange:ee})}),Object(s.jsx)("div",{children:Object(s.jsx)(Z.a,{label:"Type description",id:"filled-size-normal",value:j,name:"description",variant:"filled",onChange:ee})}),Object(s.jsx)("div",{children:Object(s.jsx)(Z.a,{label:"Type color",id:"filled-size-normal",value:m,name:"color",variant:"filled",onChange:ee})}),Object(s.jsx)("div",{children:Object(s.jsx)(Z.a,{label:"Type your quantity of product",id:"filled-size-normal",value:g,name:"count",type:"number",variant:"filled",onChange:ee})}),Object(s.jsx)("div",{children:Object(s.jsx)(Z.a,{label:"Type weight",id:"filled-size-normal",value:S,name:"weight",type:"number",variant:"filled",onChange:ee})}),Object(s.jsx)("div",{children:Object(s.jsx)(Z.a,{label:"Type width",id:"filled-size-normal",value:_,name:"width",type:"number",variant:"filled",onChange:ee})}),Object(s.jsx)("div",{children:Object(s.jsx)(Z.a,{label:"Type your height",id:"filled-size-normal",value:z,name:"height",type:"number",variant:"filled",onChange:ee})})]}),"comment"===$&&Object(s.jsx)("div",{children:Object(s.jsx)(Z.a,{label:"Type your comment",id:"filled-size-normal",value:U,name:"comment",variant:"filled",onChange:ee})}),Object(s.jsxs)("div",{className:J.btn,children:[Object(s.jsx)(A.a,{className:J.button,variant:"contained",color:"primary",size:"large",type:"submit",children:"Save"}),Object(s.jsx)(A.a,{className:J.button,variant:"contained",color:"primary",size:"large",type:"button",onClick:function(){q(F()),G.push(B.url)},children:"UNDO"})]})]})}var ee=Object(j.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function te(){var e=ee(),t=Object(l.c)((function(e){return e.isModalOpen.isOpenModal})),c=Object(o.g)();return Object(s.jsx)(J.a,{className:e.backdrop,open:t,children:c.search&&Object(s.jsx)($,{})})}var ce=Object(j.a)({root:{background:"blue"},media:{height:140},btn:{display:"flex",justifyContent:"center",padding:20},comments:{margin:"0 auto"},wrapper:{border:"1px solid orange",borderRadius:5,padding:10}});function ne(e){var t=e.match,c=e.comments,n=ce(),a=Object(l.b)(),r=Object(l.c)(h);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:n.comments,children:Object(s.jsx)(U.a,{children:c.map((function(e){return Object(s.jsx)(H.a,{children:Object(s.jsxs)("div",{className:n.wrapper,children:[Object(s.jsx)(G.a,{gutterBottom:!0,variant:"h4",component:"p",children:e.description}),Object(s.jsx)(A.a,{variant:"contained",color:"secondary",onClick:function(){return function(e){var t=Object(Y.a)(Object(Y.a)({},r),{},{comments:r.comments.filter((function(t){return t.id!==e}))});a(R(t))}(e.id)},children:"DELETE"})]})},e.id)}))})}),Object(s.jsx)("div",{className:n.btn,children:Object(s.jsx)(A.a,{variant:"contained",color:"secondary",component:i.b,to:"".concat(t,"?_edit=comment"),onClick:function(){return a(M())},children:"Add comments"})})]})}function ae(){var e=q(),t=Object(l.b)(),c=Object(o.h)().id,a=Object(o.i)(),r=Object(l.c)((function(e){return e.product.fetchedProduct})),d=Object(l.c)((function(e){return e.loading.isLoading}));Object(n.useEffect)((function(){t(function(e){return function(){var t=Object(g.a)(v.a.mark((function t(c){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:S}),t.next=3,E(e);case 3:n=t.sent,c({type:w,payload:n}),c({type:k});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}),[]);return!r||d?Object(s.jsx)(f,{}):r?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(U.a,{className:e.root,children:[Object(s.jsx)(W.a,{className:e.media,image:r.imageUrl,title:r.name}),Object(s.jsxs)(H.a,{children:[Object(s.jsx)(G.a,{gutterBottom:!0,variant:"h4",component:"h2",children:r.name}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Description: ".concat(r.description)}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Quantity: ".concat(r.count)}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Color: ".concat(r.color)}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Size: ".concat(r.size.width,"mm x ").concat(r.size.height,"mm")}),Object(s.jsx)(G.a,{color:"textSecondary",component:"p",children:"Weight: ".concat(r.weight," g")}),Object(s.jsx)("div",{className:e.btn,children:Object(s.jsx)(A.a,{variant:"contained",color:"secondary",component:i.b,to:"".concat(a.url,"?_edit=product"),onClick:function(){t(M())},children:"Edit card"})})]})]}),Object(s.jsx)(te,{}),Object(s.jsx)(ne,{comments:r.comments,match:c,id:r.id})]}):void 0}c(111),c(112);function re(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(X.a,{}),Object(s.jsx)(d,{}),Object(s.jsxs)(o.c,{children:[Object(s.jsx)(o.a,{path:"/",exact:!0,component:function(){return Object(s.jsx)("h1",{className:"App__title",children:"Place for your product"})}}),Object(s.jsx)(o.a,{path:"/product",exact:!0,component:B}),Object(s.jsx)(o.a,{path:"/product/:id?",component:ae})]})]})}var oe=c(26),ie=c(71),se={isLoading:!1},de={fetchedProducts:[],cachesProducts:[]},ue={fetchedProduct:null},le={isOpenModal:!1},je=Object(oe.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(Y.a)(Object(Y.a)({},e),{},{fetchedProducts:t.payload,cachesProducts:t.payload});case C:return Object(Y.a)(Object(Y.a)({},e),{},{cachesProducts:e.fetchedProducts.filter((function(e){return e.id===t.payload}))});case z:return Object(Y.a)(Object(Y.a)({},e),{},{cachesProducts:e.fetchedProducts.filter((function(e){return e.name.toLowerCase().includes(t.payload)}))});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(Y.a)(Object(Y.a)({},e),{},{fetchedProduct:t.payload});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(Y.a)(Object(Y.a)({},e),{},{isLoading:!0});case k:return Object(Y.a)(Object(Y.a)({},e),{},{isLoading:!1});default:return e}},isModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(Y.a)(Object(Y.a)({},e),{},{isOpenModal:!0});case T:return Object(Y.a)(Object(Y.a)({},e),{},{isOpenModal:!1});default:return e}}}),be=c(72),pe=Object(oe.createStore)(je,Object(ie.composeWithDevTools)(Object(oe.applyMiddleware)(be.a)));r.a.render(Object(s.jsx)(l.a,{store:pe,children:Object(s.jsx)(i.a,{children:Object(s.jsx)(re,{})})}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.04689673.chunk.js.map